<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>CONTINENTAL WICK ($WCK)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <link rel="icon" href="https://raw.githubusercontent.com/continentalwick/continental-wick/main/assets/logo.png">
  <link rel="apple-touch-icon" href="https://raw.githubusercontent.com/continentalwick/continental-wick/main/assets/logo.png">
  <link rel="canonical" href="https://wicktoken.net/">

  <!-- SEO -->
  <meta name="description" content="$WCK ‚Äì The Utility That Memes. CONTINENTAL protocol agent enforcing value on XRPL. NFT card series, OTC launch, and ledger-driven culture.">
  <meta name="keywords" content="WCK, Continental Wick, XRPL, XRP Ledger, crypto, NFT cards, meme coin, protocol enforcer, OTC crypto, The Utility That Memes">

  <!-- OG / Twitter -->
  <meta property="og:title" content="CONTINENTAL WICK ($WCK)">
  <meta property="og:description" content="The Utility That Memes. Powered by XRPL.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://wicktoken.net/">
  <meta property="og:site_name" content="CONTINENTAL WICK">
  <meta property="og:image" content="https://raw.githubusercontent.com/continentalwick/continental-wick/main/assets/logo.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="CONTINENTAL WICK ($WCK)">
  <meta name="twitter:description" content="The Utility That Memes. Powered by XRPL.">
  <meta name="twitter:image" content="https://raw.githubusercontent.com/continentalwick/continental-wick/main/assets/logo.png">
  <meta name="theme-color" content="#121113">

  <style>
    * { box-sizing: border-box }
    html, body { overflow-x: hidden }

    body { margin:0; background:#121113; color:#f8f8f8; font-family:'Segoe UI',Arial,sans-serif; min-height:100vh; letter-spacing:.01em }
    header { text-align:center; margin:48px auto 12px; padding:0 16px }

    /* ‚úÖ Match RAD/BAG hero image sizing */
    .hero-img {
      width:55%;
      max-width:320px;
      height:auto;
      margin:0 auto 20px;
      display:block;
    }
    @media (max-width:480px){
      .hero-img{
        width:65%;
        max-width:220px;
      }
    }

    /* (Old .logo-wck kept for reference; no longer used)
    .logo-wck { width:96px; height:96px; margin-bottom:14px; border-radius:50%; background:#232227; box-shadow:0 3px 24px #000b; padding:12px; object-fit:contain }
    */

    h1 { font-size:2.7em; margin:6px 0 4px; letter-spacing:.05em; color:#ffd700; font-weight:700 }
    .tagline { font-size:1.12em; color:#e0cf93; margin-bottom:16px }

    /* Social */
    .social-wrap { margin-top:10px }
    .social-row { display:flex; justify-content:center; align-items:center; gap:14px }
    .social-btn { display:inline-flex; align-items:center; justify-content:center; width:40px; height:40px; border-radius:10px; background:#18171a; border:1px solid #2d2c30; box-shadow:0 2px 8px #0006; transition:.15s transform,.15s box-shadow }
    .social-btn:hover { transform:translateY(-2px); box-shadow:0 6px 18px #0009 }
    .social-icon { width:24px; height:24px; display:block }

    /* Verify line */
    .verify-line{ text-align:center; margin-top:12px; font-size:1.02em; color:#d8d3c0; letter-spacing:.01em }
    .verify-line b, .verify-line a{ color:#ffd700; font-weight:700; text-decoration:none }
    .verify-line a:hover{ text-decoration:underline }

    /* Blended info strip */
    .blend-section {
      margin: 18px auto 14px;
      padding: 10px 16px;
      max-width: 960px;
      text-align:center;
      background: linear-gradient(90deg, rgba(255,215,0,.10), rgba(255,255,255,.05) 60%, rgba(255,215,0,.10));
      border: 1px solid #2f2b1d;
      border-radius:10px;
      color:#e8e3cf;
      font-weight:700;
      line-height:1.4;
    }
    .blend-section .line { display:block }
    .blend-section .em { color:#ffd700 }

    /* OTC container */
    .otc-block { background:#232227; border-radius:11px; text-align:center; padding:32px 14px 26px; margin:0 auto 38px; max-width:900px; box-shadow:0 4px 30px #000a }
    .otc-banner { font-size:.95em; color:#ffd36d; margin:-6px 0 10px }
    .otc-banner a { color:#ffd700; text-decoration:underline }
    .otc-title { font-size:1.25em; font-weight:700; color:#fff; margin-bottom:12px }

    /* Rate line */
    .rate-line { font-size:1.05em; color:#d8d8d8; margin:0 0 16px; display:flex; gap:10px; justify-content:center; align-items:center; flex-wrap:wrap }
    .badge { display:inline-block; padding:6px 14px; border-radius:999px; font-size:.9em; line-height:1; font-weight:800; letter-spacing:.02em }
    .badge.live { background:#00ff66; color:#000 }
    .badge.off { background:#f55; color:#fff }
    .muted { color:#bdbdbd; font-size:.95em }

    /* Buttons */
    .cta-row { display:flex; gap:10px; justify-content:center; align-items:center; margin:10px 0 14px; flex-wrap:wrap }
    .btn { appearance:none; border:none; border-radius:12px; padding:12px 18px; font-weight:800; letter-spacing:.02em; cursor:pointer; transition:.15s transform,.15s box-shadow,.15s background,.15s border-color }
    .btn:active { transform:translateY(1px) }
    .btn-ghost { background:#111; color:#fff; border:1px solid #333 }
    .btn-ghost:hover { background:#000 }

    /* Premium trustline button */
    .btn-trustline {
      background: radial-gradient(120% 120% at 50% -10%, #ffe083 0%, #b8942e 60%, #2a261a 100%);
      color:#0c0b07; border:1.5px solid #e5c767;
      box-shadow:0 6px 22px rgba(255, 208, 64, .18), inset 0 1px 0 rgba(255,255,255,.18);
    }
    .btn-trustline:hover { filter:brightness(1.06) }
    .btn-trustline .mini { display:block; font-size:.78em; font-weight:600; opacity:.9; color:#120e05; margin-top:2px }

    /* Hero BUY button */
    .btn-buy {
      background: linear-gradient(180deg, #ffe083 0%, #e6b400 60%, #b88b00 100%);
      color:#121113; border:1.5px solid #ffe083;
      box-shadow: 0 8px 26px rgba(255, 208, 64, .22), inset 0 1px 0 rgba(255,255,255,.25);
      text-transform:uppercase; letter-spacing:.05em;
      padding:16px 28px; font-size:1.06em; border-radius:14px;
      min-width:200px;
    }
    .btn-buy:hover { filter:brightness(1.05) }
    .btn-buy:disabled { opacity:.6; cursor:not-allowed; }

    /* Inputs and results */
    .grid-controls{ display:grid; gap:12px; justify-items:center; margin-bottom:14px }
    .row{ display:flex; gap:10px; align-items:center; justify-content:center; width:100% }

    /* iOS zoom guard */
    input, select, textarea { font-size:16px }
    input[type="number"]{
      width:320px; max-width:100%;
      padding:12px; border-radius:8px; border:1px solid #333; background:#111; color:#fff
    }
    .pill{ font-size:.9em; color:#bdbdbd }

    .results-row{ display:flex; gap:18px; flex-wrap:wrap; justify-content:center; margin:8px 0 12px }
    .result-box{ background:#111; border:1px solid #333; border-radius:10px; padding:12px 16px; min-width:200px }
    .result-head{ font-size:.9em; color:#bdbdbd }
    .result-val{ font-size:1.25em; font-weight:700 }

    .notes-wrap { margin-top:18px }

    .tokenomics-box{ background:#1d1c21; border:1.5px solid #c6a450; border-radius:12px; padding:14px 16px; margin:14px auto 8px; max-width:720px; text-align:left; color:#e0cf93; box-shadow:0 2px 12px #0006 }
    .tokenomics-box .line{ display:flex; gap:10px; align-items:baseline; margin:6px 0 }
    .tokenomics-box b{ color:#ffd700 }

    /* üîí first disclaimer: now exactly 0.72rem, bold, red */
    .otc-disclaimer{
      margin-top:12px;
      font-size:0.72rem;
      font-weight:700;
      color:#f55;
      line-height:1.5;
    }
    /* ‚è≥ second line: original gold, no bold (unchanged) */
    .otc-disclaimer .countdown{
      display:block;
      margin-top:8px;
      color:#ffd700;
      font-size:1rem;
      font-weight:400;
    }

    /* Sections below */
    .section-title { text-align:center; font-size:1.55em; margin:44px 0 22px; color:#ffd700; letter-spacing:.02em; font-weight:700 }
    .cards-row { display:flex; justify-content:center; gap:36px; flex-wrap:wrap; margin-bottom:40px; padding:0 12px }
    .card-box { background:#18171a; border-radius:16px; box-shadow:0 3px 18px #000b; padding:16px; width:100%; max-width:420px; display:flex; flex-direction:column; align-items:center; border:2px solid #c6a450; margin:0 auto }
    .card-box img { width:100%; height:auto; object-fit:cover; border-radius:12px; margin-bottom:10px; border:2.5px solid #c6a450; background:#18171a }
    .card-title { font-size:1.04em; margin-top:6px; color:#f8d05f; letter-spacing:.01em; text-align:center; font-weight:700 }

    .whitepaper-block { background:#232227; border-radius:11px; text-align:center; padding:22px 12px 26px; margin:36px auto 24px; max-width:460px; box-shadow:0 2px 16px #0005 }
    .whitepaper-title { font-size:1.22em; font-weight:700; color:#fff; letter-spacing:.02em; margin-bottom:9px }

    .token-details { text-align:center; margin:28px 0 10px; color:#e5e2c9; font-size:1.10em; padding:0 16px }
    .token-details code { color:#ffe083; background:#191817; padding:1.5px 7px; border-radius:6px; font-size:.98em }

    .legal-disclaimer { background:#000; color:#aaa; text-align:center; padding:30px 15px; font-size:.85rem; line-height:1.5; max-width:900px; margin:50px auto 0; border-radius:6px }
    .legal-disclaimer a { color:#fff; text-decoration:underline }

    footer { margin:40px 0 22px; text-align:center; color:#bdbdbd; font-size:1.05em; letter-spacing:.02em }
    .x-handle { display:inline-block; margin-top:4px; font-size:1.02em; color:#ffd700; text-decoration:none; font-weight:600 }
    .x-handle:hover { text-decoration:underline }

    /* Modal */
    .modal-backdrop{ position:fixed; inset:0; background:#000a; display:none; align-items:center; justify-content:center; z-index:9999; padding:20px }
    .modal{ background:#1a1a1a; border:1px solid #333; border-radius:14px; width:100%; max-width:420px; padding:22px 18px; text-align:center; box-shadow:0 8px 30px #000c }
    .modal h3{ margin:0 0 8px; color:#ffd700 }
    .modal p{ margin:0 0 16px; color:#ddd }
    .modal .close-btn{ padding:10px 16px; border-radius:10px; border:1px solid #333; background:#111; color:#fff; font-weight:700; cursor:pointer }
    .modal .close-btn:hover{ background:#000 }

    /* WHAT THEY DO block styles (new) */
    .cards-utility{
      margin:18px auto 0; padding:14px 16px;
      max-width:720px; text-align:left; color:#e5e2c9; font-size:.96em; line-height:1.55;
      background:#141416; border:1px solid #2f2b1d; border-radius:10px; box-shadow:0 2px 12px #0006;
    }
    .cards-utility h3{
      margin:0 0 8px; color:#ffd700; font-size:1.05em; letter-spacing:.03em
    }
    .cards-utility ul{ margin:0; padding-left:18px }
    .cards-utility li{ margin:6px 0 }
    .cards-utility b{ color:#ffd700 }

    @media (max-width:700px){
      header{ margin-top:20px }
      .otc-block{ width:94vw; padding:20px 12px }
      .results-row{ flex-direction:column; align-items:center; gap:12px }
      .result-box{ width:100%; max-width:320px; min-width:0 }
      .cards-row{ gap:18px }
      .tokenomics-box{ margin-left:10px; margin-right:10px }
      .btn-buy{ width:100%; max-width:320px }
    }
  </style>
</head>
<body>
  <header>
    <img src="https://raw.githubusercontent.com/continentalwick/continental-wick/main/assets/logo.png" alt="$WCK Logo" class="hero-img" loading="eager" decoding="async">
    <h1>CONTINENTAL WICK</h1>
    <div class="tagline">The Utility That Memes. Powered by XRPL.</div>
  </header>

  <div class="token-details">
    <b>Token:</b> <span style="color:#ffd700;">$WCK</span> &mdash;
    <b>Issuer:</b> <code>rpFVEydkZrUjf4tcbLeDeVqXm5zYQGtXWm</code>
    <div class="social-wrap">
      <div class="social-row">
        <a class="social-btn" href="https://x.com/wcktoken" target="_blank" rel="noopener" aria-label="Follow WCK on X">
          <img class="social-icon" src="https://raw.githubusercontent.com/continentalwick/continental-wick/main/assets/x.png" alt="X logo" width="24" height="24" loading="lazy" decoding="async">
        </a>
        <a class="social-btn" href="https://t.me/wcktoken" target="_blank" rel="noopener" aria-label="Join WCK on Telegram">
          <img class="social-icon" src="https://raw.githubusercontent.com/continentalwick/continental-wick/main/assets/telegram.png" alt="Telegram logo" width="24" height="24" loading="lazy" decoding="async">
        </a>
      </div>

      <div class="verify-line">
        üîç Verify on:
        <a href="https://bithomp.com/explorer/rpFVEydkZrUjf4tcbLeDeVqXm5zYQGtXWm" target="_blank" rel="noopener"><b>Bithomp</b></a>
        <span style="opacity:.6;">|</span>
        <a href="https://xrpscan.com/account/rpFVEydkZrUjf4tcbLeDeVqXm5zYQGtXWm" target="_blank" rel="noopener"><b>XRPSCAN</b></a>
      </div>
    </div>
  </div>

  <!-- NEW blended info strip placed above $WCK HITS -->
  <div class="blend-section" aria-label="Token quick facts">
    <span class="line"><span class="em">Decimals:</span> 6 &mdash; <span class="em">Total Supply:</span> 100,000,000</span>
    <span class="line">XRPL Native Utility &bull; Privacy &bull; Real-World Execution</span>
  </div>

  <!-- OTC -->
  <div class="otc-block" id="wck-otc">
    <div class="otc-banner">
      üöß OTC sales not live yet. Follow us on <a href="https://x.com/wcktoken" target="_blank" rel="noopener">ùïè</a> for the drop.
    </div>

    <div class="otc-title">OTC Trading Preview ‚Äî $0.05 per WCK</div>

    <!-- Rate line -->
    <div class="rate-line">
      <span>XRP/USD: $<span id="xrpUsdText">‚Äî</span></span>
      <span id="rateBadge" class="badge off">OFFLINE</span>
      <span id="rateTime" class="muted"></span>
    </div>

    <!-- Trustline button (linked) -->
    <div class="cta-row" aria-label="Trustline">
      <a
        class="btn btn-trustline"
        id="btnTrust"
        href="https://xrpl.services/?issuer=rpFVEydkZrUjf4tcbLeDeVqXm5zYQGtXWm&currency=WCK&limit=100000000"
        target="_blank"
        rel="noopener"
      >
        üóùÔ∏è Set $WCK Trustline
        <span class="mini">Open in xrpl.services</span>
      </a>
    </div>

    <!-- CONNECT button removed -->

    <div class="grid-controls">
      <label class="row">
        <input id="usd" type="number" min="1" step="0.01" placeholder="Enter USD" inputmode="decimal" aria-label="USD amount">
        <span class="pill">(min $1)</span>
      </label>
      <div class="muted">Presale price <b>$0.05</b> per WCK</div>
    </div>

    <div class="results-row">
      <div class="result-box">
        <div class="result-head">You‚Äôll send</div>
        <div class="result-val"><span id="xrpOut">‚Äî</span> XRP</div>
      </div>
      <div class="result-box">
        <div class="result-head">You‚Äôll receive</div>
        <div class="result-val"><span id="wckOut">0</span> WCK</div>
      </div>
    </div>

    <!-- BUY directly under ‚ÄúYou‚Äôll receive‚Äù -->
    <div class="cta-row" aria-label="OTC buy" style="margin-top:6px;">
      <button type="button" class="btn btn-buy" id="btnBuy">BUY</button>
    </div>

    <!-- Notes moved further down a line -->
    <div class="notes-wrap">
      <div id="otcNote" class="muted" style="color:#e0cf93">Enter USD to preview.</div>
      <div id="limitNote" class="muted">Limit per buy: <b>$5,000</b></div>
    </div>

    <div class="tokenomics-box" role="note" aria-label="WCK OTC tokenomics">
      <div class="line">üéØ <span><b>OTC Rate:</b> $0.05 per <b>$WCK</b></span></div>
      <div class="line">üìâ <span><b>Public Launch Price:</b> $0.15 per <b>$WCK</b></span></div>
      <div class="line">‚úÖ <span>OTC buyers are in early ‚Äî <b>3√ó</b> value on day one.</span></div>
    </div>

    <p class="otc-disclaimer">
      üîí $WCK OTC is a one-way sale until on-chain launch. No sellbacks or redemptions during the presale phase.
      <span class="countdown">
        ‚è≥ Countdown to public launch begins once 50B $WCK are sold ‚Äî early OTC holders lock in 3√ó value at launch.
      </span>
    </p>
  </div>

<!-- Cards -->
<section id="nft-cards" style="text-align:center; padding: 40px 20px; background-color:#111;">
  <h2 class="section-title">NFT TRADING CARDS</h2>
  <div class="cards-row">
    <div class="card-box">
      <img src="https://github.com/continentalwick/continental-wick/blob/main/assets/nfts/CONTINENTAL-WICK-001_PREVIEW.png?raw=true" alt="Card 001 ‚Äî CONTINENTAL WICK" loading="lazy" decoding="async">
      <div class="card-title">Card 001 ‚Äî CONTINENTAL WICK<br><small>Codename: The Diamond</small></div>
    </div>
    <div class="card-box">
      <img src="https://github.com/continentalwick/continental-wick/blob/main/assets/nfts/CLICKZ-002_PREVIEW.png?raw=true" alt="Card 002 ‚Äî CLICKZ" loading="lazy" decoding="async">
      <div class="card-title">Card 002 ‚Äî CLICKZ<br><small>Codename: The Feed</small></div>
    </div>
  </div>

  <div style="max-width:720px;margin:10px auto 0;text-align:center;padding:12px 16px;">
    <p style="color:#ffd700;font-weight:700;letter-spacing:.03em;margin:0 0 8px;">COMING SOON</p>
    <ul style="list-style:none;padding:0;margin:8px 0 6px;color:#e5e2c9;line-height:1.6;">
      <li><strong style="color:#f8d05f;">Common</strong> ‚Äî Base-level protocol drops</li>
      <li><strong style="color:#f8d05f;">Rare</strong> ‚Äî Limited mission-set exclusives</li>
      <li><strong style="color:#f8d05f;">Ultra Rare</strong> ‚Äî High-value, low-supply protocol icons</li>
    </ul>
    <p style="color:#ccc;margin:6px 0 10px;font-style:italic;">Each card is two-sided ‚Äî front art, back with bio and rarity details.</p>
  </div>
</section>

      <!-- WHAT THEY DO (NEW) -->
      <div class="cards-utility">
        <h3>WHAT THEY DO</h3>
        <ul>
          <li><b>üîì Lore Unlocks:</b> Holders access hidden dossiers, encrypted intel, and character backstories.</li>
          <li><b>‚≠ê Rarity Perks:</b> Higher-tier cards open exclusive OTC windows, drops, and voting rights.</li>
          <li><b>üéØ Protocol Missions:</b> Cards double as access keys for on-chain and off-chain missions with rewards.</li>
          <li><b>üî• Burn-to-Upgrade:</b> Craft stronger cards by burning duplicates, fueling collector trade.</li>
          <li><b>üìà Market Ready:</b> Tradable on XRPL NFT markets with royalties routed to the treasury.</li>
        </ul>
      </div>

      <p style="color:#bdbdbd;margin:10px 0 0;font-style:italic;">
        Collect them all. Secure the set.
      </p>
    </div>
  </section>

<!-- Whitepaper button only -->
<div class="whitepaper-block">
  <a href="https://github.com/continentalwick/continental-wick/blob/aa36f42bb3be95b7c6f92cb1735c15fb6ddc0e26/whitepaper.md" 
     target="_blank" 
     rel="noopener" 
     style="display:inline-block;
            margin-top:10px;
            padding:11px 30px;
            background:linear-gradient(90deg,#ffd700,#e0b600);
            color:#18171a;
            border-radius:8px;
            font-weight:bold;
            font-size:1.08em;
            text-decoration:none;
            box-shadow:0 2px 8px #0004;
            border:1.5px solid #ffe083;
            transition:.15s all;" 
     onmouseover="this.style.background='#e0b600';this.style.color='#000';" 
     onmouseout="this.style.background='linear-gradient(90deg,#ffd700,#e0b600)';this.style.color='#18171a';">
     View White Paper (PDF)
  </a>
</div>

  <!-- Legal -->
<div class="legal-disclaimer">
  <h3>üõ° Legal Disclaimer</h3>
  <p>
    CONTINENTAL WICK and the $WCK token are independent creations and are
    <strong>not affiliated with, endorsed by, or associated with</strong>
    the <em>John Wick</em> film franchise, Lionsgate Films, Summit Entertainment,
    or any related trademarks or intellectual property.
  </p>
  <p>
    All references to ‚ÄúCONTINENTAL,‚Äù ‚ÄúWICK,‚Äù or related terminology are part of a
    <strong>fictional blockchain protocol universe</strong> developed by the $WCK team.
    They do not depict or reference any characters, stories, or settings from the
    John Wick franchise.
  </p>
  <p>
    $WCK is a utility token built on the <strong>XRP Ledger (XRPL)</strong>.
    It is not issued or endorsed by Ripple Labs Inc. or the XRP Ledger Foundation.
  </p>
</div>


  <footer>
    <div>
      <a class="x-handle" href="https://x.com/wcktoken" target="_blank" rel="noopener">ùïè&nbsp;@wcktoken</a>
      &nbsp;‚Ä¢&nbsp;
      <a class="x-handle" href="https://t.me/wcktoken" target="_blank" rel="noopener">Telegram&nbsp;@wcktoken</a>
    </div>
    <div style="margin-top:6px;">&copy; 2025 CONTINENTAL WICK. All rights reserved.</div>
  </footer>

  <noscript><style>.cta-row{display:none}</style></noscript>

  <!-- Modal -->
  <div id="soonModal" class="modal-backdrop" role="dialog" aria-modal="true" aria-labelledby="soonTitle">
    <div class="modal">
      <h3 id="soonTitle">OTC COMING SOON</h3>
      <p>UI preview only. Wallet connection and purchases are disabled until launch</p>
      <button class="close-btn" id="closeSoon" type="button">Close</button>
    </div>
  </div>

  <script>
    (function () {
      const $ = id => document.getElementById(id);
      const usd = $('usd');
      const xrpUsdText = $('xrpUsdText');
      const rateBadge = $('rateBadge');
      const rateTime = $('rateTime');
      const xrpOut = $('xrpOut'), wckOut = $('wckOut'), note = $('otcNote');

      // Modal controls
      const soonModal = $('soonModal');
      const closeSoon = $('closeSoon');
      const btnBuy = $('btnBuy');

      const PRICE_PER_WCK = 0.05;
      const MAX_USD = 5000;
      const API = "https://api.coingecko.com/api/v3/simple/price?ids=ripple&vs_currencies=usd";

      let xrpUsd = null;

      function stamp(){ const t=new Date(); return t.toLocaleTimeString([], {hour:'2-digit',minute:'2-digit',second:'2-digit'}); }

      function openSoon(){
        soonModal.style.display = 'flex';
        document.body.style.overflow = 'hidden';
        closeSoon.focus();
      }
      function closeModal(){
        soonModal.style.display = 'none';
        document.body.style.overflow = '';
        btnBuy?.blur();
      }

      // Wire buttons to modal
      btnBuy.addEventListener('click', openSoon);
      closeSoon.addEventListener('click', closeModal);
      soonModal.addEventListener('click', (e)=>{ if(e.target === soonModal) closeModal(); });
      window.addEventListener('keydown', (e)=>{ if(e.key === 'Escape' && soonModal.style.display==='flex') closeModal(); });

      async function fetchRate() {
        try {
          const res = await fetch(API, { cache: 'no-store' });
          if (!res.ok) throw new Error('Bad status');
          const data = await res.json();
          const val = Number(data?.ripple?.usd);
          if (!isFinite(val) || val <= 0) throw new Error('Bad data');

          xrpUsd = val;
          xrpUsdText.textContent = val.toFixed(4);
          rateBadge.textContent = 'LIVE';
          rateBadge.className = 'badge live';
          rateTime.textContent = `updated ${stamp()}`;
          calc();
        } catch {
          xrpUsd = null;
          xrpUsdText.textContent = '‚Äî';
          rateBadge.textContent = 'OFFLINE';
          rateBadge.className = 'badge off';
          rateTime.textContent = 'rate unavailable';
          calc();
        }
      }

      function calc() {
        const raw = (usd?.value || '').trim();

        if (raw === '') {
          note.textContent = 'Enter USD to preview.';
          note.style.color = '#e0cf93';
          xrpOut.textContent = '‚Äî';
          wckOut.textContent = '0.000000';   // enforce 6dp when empty
          return;
        }

        let usdVal = Number(raw);
        if (!isFinite(usdVal)) usdVal = 0;

        if (usdVal < 1) {
          note.textContent = 'Minimum is $1';
          note.style.color = '#ffb4b4';
        } else if (usdVal > MAX_USD) {
          note.textContent = `Max per buyer is $${MAX_USD.toLocaleString()}`;
          note.style.color = '#ffdf91';
          usdVal = MAX_USD;
          usd.value = usdVal;
        } else {
          note.textContent = 'Coming soon ‚Äî UI preview only. No wallet connection.';
          note.style.color = '#e0cf93';
        }

        if (xrpUsd) {
          const xrp = usdVal / xrpUsd;
          xrpOut.textContent = Number(xrp).toFixed(4);   // XRP stays at 4dp
          xrpUsdText.textContent = xrpUsd.toFixed(4);
        } else {
          xrpOut.textContent = '‚Äî';
          xrpUsdText.textContent = '‚Äî';
        }

        // WCK output: always 6 decimals
        const wck = usdVal / PRICE_PER_WCK;
        wckOut.textContent = Number(wck).toFixed(6);
      }

      if (usd) ['input','change'].forEach(ev => usd.addEventListener(ev, calc));

      fetchRate();
      setInterval(fetchRate, 60000);
      document.addEventListener('visibilitychange', () => { if (!document.hidden) fetchRate(); });

      calc();
    })();
  </script>
</body>
</html>
